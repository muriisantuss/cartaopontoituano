<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C.P. Digital - Ituano</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">

    <script src="https://cdn.jsdelivr.net/npm/signature_pad@4.0.0/dist/signature_pad.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>

<body>

    <div class="leader-access">
        <button class="btn btn-clear" onclick="window.location.href='login.html'">Líder</button>
    </div>

    <div class="cp-container">
        <header>
            <h2 style="margin:0; font-size: 18px;">C.P. - COMUNICADO PESSOAL</h2>
            <small>ITUANO FC - TI</small>
        </header>

        <div class="form-grid" style="margin-top:15px">
            <div class="full-width">
                <label>Nome do Colaborador:</label>
                <input type="text" id="colaborador" placeholder="Nome completo">
            </div>
            <div class="full-width">
                <label>Líder:</label>
                <select id="lider" required>
                    <option value="">Selecione...</option>
                    <option>Cristian Jiacomin Redondo Mendes</option>
                    <option>Geovana De Assis Camargo Medeiros</option>
                    <option>Gustavo Nakaoka</option>
                    <option>Henrique Nascimento Borges</option>
                    <option>Luiz Eduardo Bragatto Da Silva</option>
                    <option>Simone Aparecida Pereira Dias</option>
                    <option>Shayene Aparecida Da Silva</option>
                </select>
            </div>
        </div>

        <div class="section-title">OPÇÃO A: DIA ÚNICO</div>
        <div class="form-grid">
            <div class="full-width triple-grid">
                <div><label>Data:</label><input type="date" id="data_single"></div>
                <div><label>Entrada:</label><input type="time" id="ent_single"></div>
                <div><label>Saída:</label><input type="time" id="sai_single"></div>
            </div>
            <div class="full-width">
                <label>Justificativa:</label>
                <input type="text" id="just_single" placeholder="Ex: Esquecimento">
            </div>
        </div>

        <div class="section-title">OPÇÃO B: MÚLTIPLOS DIAS</div>
        <div class="helper-text">
            <strong>Exemplos:</strong><br>
            1. 14/04(Seg) - 08:00 - 15:00 - Esqueci de marcar o ponto<br>
            2. 15/04(Ter) - 07:00 a 12:00 - 15:00 a 19:00 - Viagem a trabalho
        </div>
        <div style="padding: 0 15px;">
            <textarea id="multi_ajustes" rows="3" placeholder="Digite os ajustes aqui..."></textarea>
        </div>

        <div class="signature-area">
            <div>
                <canvas id="signature-pad"></canvas>
                <button type="button" class="btn btn-clear" style="margin-top: 5px;"
                    onclick="signaturePad.clear()">Limpar Assinatura</button>
                <label style="margin-top:5px">ASSINATURA FUNCIONÁRIO</label>
            </div>
            <div
                style="display: flex; flex-direction: column; justify-content: flex-end; border-top: 1px solid #000; height: 120px; margin-top: 8px;">
                <label>ASSINATURA DA GESTÃO</label>
            </div>
        </div>
    </div>

    <div class="btn-container">
        <button class="btn btn-pdf" onclick="processPDF()">BAIXAR E COMPARTILHAR PDF</button>
    </div>

    <script type="module">
        // Importando o que precisamos
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
        import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-firestore.js";

        // Sua configuração
        const firebaseConfig = {
            apiKey: "AIzaSyDNAbGdw3dEcMKwhVpmuHFQRDRcNzUukt4",
            authDomain: "cp-digital-ituano.firebaseapp.com",
            projectId: "cp-digital-ituano",
            storageBucket: "cp-digital-ituano.firebasestorage.app",
            messagingSenderId: "55279662139",
            appId: "1:55279662139:web:d20a99e015631a45e0d81e"
        };

        // Inicializa o Firebase e o Banco de Dados
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // Torna o "db" e as funções globais para o seu script.js conseguir usar
        window.db = db;
        window.addDoc = addDoc;
        window.collection = collection;
        window.serverTimestamp = serverTimestamp;
    </script>

    <script src="script.js"></script>

    <script src="script.js"></script>
</body>

</html>